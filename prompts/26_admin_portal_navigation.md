# Усовершенствование навигации админ-портала

## Проблема текущей навигации
В админ-портале сейчас для перехода к деталям сущностей (агентов, проектов, задач) требуется открывать новые страницы или использовать кнопку "Назад" браузера для возврата. Это неудобно и может приводить к потере контекста. Цель – реализовать более современную навигацию, позволяющую "проваливаться" внутрь объектов и легко возвращаться назад без перезагрузки страницы.

## Хлебные крошки (Breadcrumbs)
Внедряем навигационную цепочку в верхней части интерфейса:
- **Отображение пути:** Над списками и карточками объектов будет отображаться путь текущей позиции. Например: `Агенты / Агент #123` или `Проекты / Проект Alpha / Задачи`.
- **Интерактивность:** Каждый сегмент этого пути – ссылка. Администратор может кликнуть на любой уровень, чтобы вернуться к нему. Если он просматривает задачу, путь может выглядеть как `Проекты / Проект Alpha / Задача 42`; кликом на "Проект Alpha" вернётся к странице проекта.
- **Динамическое обновление:** При каждом переходе (например, из списка агентов к конкретному агенту, затем к задаче этого агента) компоненты хлебных крошек обновляются соответствующе.
- **UI/UX:** Сделать хлебные крошки хорошо заметными, но компактными. Можно использовать разделитель ">" или стрелочки. При необходимости сокращать слишком длинные названия с помощью троеточия, показывая полное имя по hover.

## Drill-down без перезагрузки
Реорганизовать портал в стиле одностраничного приложения (SPA) или близко к тому:
- **Асинхронная подгрузка:** При клике на объект (например, агент) вместо полной загрузки новой страницы выполнять AJAX-запрос за данными агента и отображать их в том же окне под тем же URL (с обновлением состояния истории браузера, чтобы работали кнопки вперед/назад).
- **Маршрутизация:** Если используется фронтенд-фреймворк (React/Vue/Angular), настроить маршруты: `/agents` для списка, `/agents/123` для страницы агента с ID 123, `/agents/123/tasks/42` для задачи 42 этого агента, и т.д. Это позволит прямо переходить по URL и делиться ссылками, а также даст ожидаемое поведение кнопок браузера.
- **Модальные окна (опционально):** Для некоторых быстрых просмотров можно использовать модальные окна. Например, клик по задаче может открывать модал с её деталями поверх страницы агента. Однако для последовательной навигации предпочтительнее всё же полноэкранный переход с хлебными крошками, чтобы вписаться в общую схему.
- **Без "Назад" браузера:** С правильно настроенной SPA-навигацией администратор вообще может не трогать кнопку Back – у него всегда под рукой либо хлебные крошки, либо встроенные элементы интерфейса для возврата.

## Подробные страницы объектов
Обогатить страницы деталей (агента, проекта, задачи) информацией и действиями:
- **Страница агента:** Показывает всю ключевую информацию об агенте:
  - Уникальный ID, статус (онлайн/офлайн), дата последнего контакта.
  - Аппаратные характеристики (CPU, GPU, RAM, диск) – получено от агента (см. интеграция Telegraf).
  - Последние метрики нагрузки (CPU %, RAM %, и пр.).
  - Репутация (оценка доверия) и статус (не заблокирован / заблокирован, если заблокирован – причина).
  - **Список задач агента:** Таблица или список задач, которые этот агент выполнил или выполняет. Колонки: ID задачи, проект, статус (выполнена/в процессе/ошибка), время выполнения.
  - **Действия:** Кнопки: "Блокировать агент" (или "Разблокировать", если уже заблокирован), возможно "Отправить сообщение узлу" (если такая функциональность предусмотрена), "Удалить агент" (если нужно убрать узел).
- **Страница проекта:** Содержит сведения о проекте:
  - Название, GUID, описание цели проекта.
  - Статус проекта (активен, завершён, на паузе).
  - Количество узлов-участников, текущее распределение задач (сколько выполнено/осталось).
  - **Список задач проекта:** Фильтруемый список всех задач внутри проекта. Можно отобразить статусную диаграмму (сколько % выполнено).
  - **Список участников:** Перечень агентов, участвующих в проекте, и их вклад (например, сколько задач каждый выполнил, репутация в контексте этого проекта).
  - **Действия:** "Остановить проект" (приостановить выдачу новых задач), "Возобновить", "Добавить/удалить участника" (если есть механизм приглашения узлов в проект), "Редактировать информацию о проекте".
- **Страница задачи:** Предоставляет полную информацию о конкретном задании:
  - Идентификатор задачи, к какому проекту относится, тип (если есть категория, как в BPSW).
  - Назначенный агент (если выдана) или статус "в очереди".
  - Временные метки: создание, назначение, начало выполнения, окончание, дедлайн (если применимо).
  - Результат: если задача выполнена – показывается результат (например, числовое значение, ссылка на файл в MinIO, лог вывода).
  - История: если задача переназначалась или повторялась – отобразить историю, например, "выдана агенту X, не успешно (ошибка), пере выдана агенту Y, успешно выполнена".
  - **Действия:** "Перезапустить задачу" (создать её копию и пометить старую отменённой), "Отменить" (если задача ещё в процессе, отозвать её), "Верифицировать результат" (если требуется ручное подтверждение результатов админом или доверенными узлами).
- Навигационные ссылки: на странице задачи должны быть ссылки на её проект и на агента, выполнившего задачу; на странице проекта – на участников (агентов) и задачи; на странице агента – на его задачи. Эти ссылки участвуют в хлебных крошках при переходе.

## Улучшение UX
- **Единый стиль и библиотека компонентов:** Если портал ещё не использует современную UI-библиотеку, имеет смысл внедрить её (например, Ant Design, Vuetify, BootstrapVue и т.п.). Это даст красивые готовые компоненты для таблиц, панелей, хлебных крошек, модальных окон.
- **Breadcrumbs vs Back:** Даже с хлебными крошками, можно оставить маленькую стрелку "← Назад" внутри интерфейса для пользователей, которым это привычно. Она будет просто дублировать функциональность (например, переход на уровень вверх).
- **Подтверждения действий:** Добавить модальные диалоги подтверждения для опасных действий (удаление проекта, блокировка агента), чтобы случайно не кликнуть.
- **Производительность:** Убедиться, что подгрузка данных асинхронно не вызывает тормозов интерфейса. При переходе можно показывать спиннер или скелетон-заглушки, пока данные приходят.
- **Адаптивность:** Админ-портал может использоваться на разных экранах, поэтому навигация и компоненты должны адаптироваться (минимум – корректно работать в браузере на различных размерах окна).

В итоге обновлённый админ-портал станет более удобным и информативным:
- Администратор сможет быстро переходить от общей картины к деталям (и обратно) с помощью навигационных цепочек.
- Вся необходимая информация по узлам, проектам и задачам будет доступна без лишних кликов и без необходимости держать множество вкладок браузера.
- Интерфейс будет более современным, что упрощает работу и снижает вероятность ошибок при управлении платформой.
